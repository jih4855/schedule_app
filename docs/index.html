<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css?v=7">
    <!-- ì •ì  í˜ì´ì§€: ë¡œì»¬ CSS/JSë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. -->
    <title>AI Multi-Agent Toolkit - Documentation</title>
    <!-- Explicit favicon to avoid /favicon.ico 404 requests -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='16' fill='%2323262a'/%3E%3Ctext x='50' y='68' text-anchor='middle' font-size='72'%3EğŸ“„%3C/text%3E%3C/svg%3E" />
    <script src="scripts.js?v=5"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg sticky-top" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">AI Multi-Agent Toolkit</a>
        </div>
    </nav>

    <!-- ë ˆì´ì•„ì›ƒ ë˜í¼ ì¶”ê°€ -->
    <div class="layout">
        <nav class="sidebar">
            <div class="sidebar-title">AI Toolkit ì‚¬ìš©ë²•</div>
            <ul id="sidebar-nav"></ul>
        </nav>

        <main class="content">
            <!-- ê¸°ì¡´ ë¬¸ì„œ ì»¨í…ì¸  ë˜í•‘ -->
            <div class="docs-section">
                <h3>1. ì—…ë°ì´íŠ¸ í˜„í™©</h3>
                <p class="section-summary">í˜„ì¬ê¹Œì§€ êµ¬í˜„ëœ ê¸°ëŠ¥ì— ëŒ€í•œ ìš”ì•½ì…ë‹ˆë‹¤.</p>
                <ul>
                    <li>LLM ì—ì´ì „íŠ¸ ìƒì„± ë° ì‘ë‹µ ë°›ê¸° (ollama, openai, genai(gemini) ì§€ì›)</li>
                    <li>Discordë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸° (ë©”ì‹œì§€ ì²­í¬ ë¶„í•  ë° ê²¹ì¹¨ ì§€ì›)</li>
                    <li>ìŒì„± íŒŒì¼ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ê¸° (whisper ì‚¬ìš©)</li>
                    <li>í…ìŠ¤íŠ¸ ì²­í¬ ë¶„í•  ë° ê²¹ì¹¨ ì§€ì›</li>
                    <li>2025/09/17 ì—ì´ì „íŠ¸ ë©”ëª¨ë¦¬ ê¸°ëŠ¥ êµ¬í˜„</li>
                    <li>2025/09/21 LLM_Agent í´ë˜ìŠ¤ì— __call__ ë§¤ì§ ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì–´ agent.generate_response() ëŒ€ì‹  agent() ì§ì ‘ í˜¸ì¶œì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.</li>
                    <li>2025/09/21 LLM_Agent ë©€í‹°ëª¨ë‹¬ ì‚¬ìš© ì¶”ê°€</li>
                </ul>

                <h3>2. ëª¨ë“ˆ ì†Œê°œ</h3>

                <details>
                    <summary>llm_agent.py - LLM ì—ì´ì „íŠ¸ í•µì‹¬ ëª¨ë“ˆ</summary>
                    <div class="code-container">
                        <div style="margin-bottom: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>1) ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</strong>
                        </div>
                        <button class="copy_button" onclick="copy_button('module-llm-init')">Copy</button>
                        <pre class="code-vscode"><code id="module-llm-init">
<span class="comm"># ê¸°ë³¸ LLM ì—ì´ì „íŠ¸</span>
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">LLM_Agent</span>

<span class="var">agent</span> = <span class="cls">LLM_Agent</span>(
    <span class="var">model_name</span>=<span class="str">"gemini-2.5-flash"</span>,
    <span class="var">provider</span>=<span class="str">"genai"</span>,  <span class="comm"># ollama, genai, openai</span>
    <span class="var">api_key</span>=<span class="str">"your_api_key"</span>,
    <span class="var">session_id</span>=<span class="str">"chat_session"</span>,
    <span class="var">max_history</span>=<span class="num">10</span>
)

<span class="comm"># ë©€í‹°ëª¨ë‹¬ ì—ì´ì „íŠ¸</span>
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">Multi_modal_agent</span>

<span class="var">modal_agent</span> = <span class="cls">Multi_modal_agent</span>(
    <span class="var">model_name</span>=<span class="str">"gemma3:12b"</span>,
    <span class="var">provider</span>=<span class="str">"ollama"</span>,  <span class="comm"># ollama, genai</span>
    <span class="var">api_key</span>=<span class="kw">None</span>
)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>ì§€ì› ê¸°ëŠ¥:</strong> ë‹¤ì¤‘ LLM í”„ë¡œë°”ì´ë” ì§€ì› (Ollama, OpenAI, Google Gemini), ëŒ€í™” ê¸°ì–µ ê¸°ëŠ¥, ë©€í‹° ì—ì´ì „íŠ¸ í˜‘ì—…, ì´ë¯¸ì§€ ë¶„ì„ ë° OCR (ë©€í‹°ëª¨ë‹¬), __call__ ë§¤ì§ ë©”ì„œë“œë¡œ ê°„í¸í•œ í˜¸ì¶œ
                        </div>
                    </div>

                    <div class="code-container">
                        <div style="margin-bottom: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>2) ì—ì´ì „íŠ¸ í˜¸ì¶œí•˜ê³  ì‘ë‹µë°›ê¸°</strong>
                        </div>
                        <button class="copy_button" onclick="copy_button('module-llm-call')">Copy</button>
                        <pre class="code-vscode"><code id="module-llm-call">
<span class="comm"># ê¸°ë³¸ í…ìŠ¤íŠ¸ ëŒ€í™”</span>
<span class="var">response</span> = <span class="var">agent</span>(
    <span class="var">system_prompt</span>=<span class="str">"ë‹¹ì‹ ì€ ì¹œê·¼í•œ AI ë¹„ì„œì…ë‹ˆë‹¤."</span>,
    <span class="var">user_message</span>=<span class="str">"ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë•Œìš”?"</span>
)
<span class="builtin">print</span>(<span class="var">response</span>)  <span class="comm"># AIì˜ ë‹µë³€ì´ ì¶œë ¥ë©ë‹ˆë‹¤</span>

<span class="comm"># ë©”ëª¨ë¦¬ ê¸°ëŠ¥ìœ¼ë¡œ ì´ì „ ëŒ€í™” ê¸°ì–µí•˜ê¸°</span>
<span class="var">response_with_memory</span> = <span class="var">agent</span>(
    <span class="var">system_prompt</span>=<span class="str">"ë‹¹ì‹ ì€ ì¹œê·¼í•œ AI ë¹„ì„œì…ë‹ˆë‹¤."</span>,
    <span class="var">user_message</span>=<span class="str">"ì œ ì´ë¦„ì„ ê¸°ì–µí•˜ì‹œë‚˜ìš”?"</span>,
    <span class="var">memory</span>=<span class="kw">True</span>  <span class="comm"># ì´ì „ ëŒ€í™”ë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤</span>
)

<span class="comm"># ì´ë¯¸ì§€ì™€ í•¨ê»˜ ëŒ€í™”í•˜ê¸° (ë©€í‹°ëª¨ë‹¬)</span>
<span class="var">image_response</span> = <span class="var">modal_agent</span>(
    <span class="var">system_prompt</span>=<span class="str">"ë‹¹ì‹ ì€ ì´ë¯¸ì§€ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤."</span>,
    <span class="var">user_message</span>=<span class="str">"ì´ ì‚¬ì§„ì— ë­ê°€ ë³´ì´ë‚˜ìš”?"</span>,
    <span class="var">image_path</span>=<span class="str">"my_photo.jpg"</span>  <span class="comm"># ë¶„ì„í•  ì´ë¯¸ì§€ íŒŒì¼</span>
)
<span class="builtin">print</span>(<span class="var">image_response</span>)  <span class="comm"># ì´ë¯¸ì§€ ë¶„ì„ ê²°ê³¼ê°€ ì¶œë ¥ë©ë‹ˆë‹¤</span>
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            ìœ„ì˜ ì½”ë“œ ì˜ˆì‹œëŠ” ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ LLM ì—ì´ì „íŠ¸ë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ê¸°ë³¸ ëŒ€í™”, ë©”ëª¨ë¦¬ ê¸°ëŠ¥ì„ í™œìš©í•œ ì—°ì† ëŒ€í™”, ê·¸ë¦¬ê³  ì´ë¯¸ì§€ë¥¼ í¬í•¨í•œ ë©€í‹°ëª¨ë‹¬ ëŒ€í™”ê¹Œì§€ ì§€ì›í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </details>

                <details>
                    <summary>discord.py - Discord ì›¹í›… ì—°ë™ ëª¨ë“ˆ</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('module-discord')">Copy</button>
                        <pre class="code-vscode"><code id="module-discord">
<span class="kw">from</span> <span class="mod">module.discord</span> <span class="kw">import</span> <span class="cls">Send_to_discord</span>

<span class="var">discord</span> = <span class="cls">Send_to_discord</span>(
    <span class="var">base_url</span>=<span class="str">"your_discord_webhook_url"</span>,  <span class="comm"># Discord ì›¹í›… URL</span>
    <span class="var">chunk_size</span>=<span class="num">1900</span>,  <span class="comm"># ë©”ì‹œì§€ ì²­í¬ í¬ê¸° (ê¸°ë³¸: 1900)</span>
    <span class="var">overlap</span>=<span class="num">0</span>         <span class="comm"># ì²­í¬ ê°„ ê²¹ì¹¨ í¬ê¸° (ê¸°ë³¸: 0)</span>
)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>ì£¼ìš” ê¸°ëŠ¥:</strong> LLM ì‘ë‹µì„ Discord ì±„ë„ë¡œ ìë™ ì „ì†¡, ê¸´ ë©”ì‹œì§€ ì²­í¬ ë¶„í•  ì²˜ë¦¬
                        </div>
                    </div>
                </details>

                <details>
                    <summary>audio_tool.py - ìŒì„± ì²˜ë¦¬ ëª¨ë“ˆ</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('module-audio')">Copy</button>
                        <pre class="code-vscode"><code id="module-audio">
<span class="kw">from</span> <span class="mod">module.audio_tool</span> <span class="kw">import</span> <span class="cls">Audio</span>

<span class="var">audio</span> = <span class="cls">Audio</span>(
    <span class="var">text_output</span>=<span class="str">"transcripts"</span>,    <span class="comm"># í…ìŠ¤íŠ¸ ì¶œë ¥ í´ë” (ê¸°ë³¸: "text")</span>
    <span class="var">source_file</span>=<span class="str">"audio_files"</span>,    <span class="comm"># ìŒì„± íŒŒì¼ í´ë” (ê¸°ë³¸: "source_file")</span>
    <span class="var">whisper_model</span>=<span class="str">"large-v3"</span>,     <span class="comm"># Whisper ëª¨ë¸ (ê¸°ë³¸: "large-v3")</span>
    <span class="var">preferred_codec</span>=<span class="str">"mp3"</span>,        <span class="comm"># ì„ í˜¸ ì˜¤ë””ì˜¤ ì½”ë± (ê¸°ë³¸: "mp3")</span>
    <span class="var">preferred_quality</span>=<span class="str">"192"</span>       <span class="comm"># ì˜¤ë””ì˜¤ í’ˆì§ˆ (ê¸°ë³¸: "192")</span>
)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>ì£¼ìš” ê¸°ëŠ¥:</strong> Whisperë¥¼ ì‚¬ìš©í•œ ìŒì„±-í…ìŠ¤íŠ¸ ë³€í™˜, ë‹¤ì–‘í•œ ì˜¤ë””ì˜¤ í¬ë§· ì§€ì›, ë°°ì¹˜ ì²˜ë¦¬
                        </div>
                    </div>
                </details>

                <details>
                    <summary>memory.py - ëŒ€í™” ê¸°ì–µ ê´€ë¦¬ ëª¨ë“ˆ</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('module-memory')">Copy</button>
                        <pre class="code-vscode"><code id="module-memory">
<span class="kw">from</span> <span class="mod">module.memory</span> <span class="kw">import</span> <span class="cls">MemoryManager</span>

<span class="var">memory</span> = <span class="cls">MemoryManager</span>(
    <span class="var">db_path</span>=<span class="str">"memory.db"</span>,           <span class="comm"># ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ ê²½ë¡œ (ê¸°ë³¸: "memory.db")</span>
    <span class="var">session_id</span>=<span class="str">"user_session_01"</span>,  <span class="comm"># ì„¸ì…˜ ID (ê¸°ë³¸: None)</span>
    <span class="var">messages</span>=[]                    <span class="comm"># ì´ˆê¸° ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ (ê¸°ë³¸: [])</span>
)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>ì£¼ìš” ê¸°ëŠ¥:</strong> LLM ì—ì´ì „íŠ¸ì˜ ëŒ€í™” ê¸°ë¡ì„ SQLiteì— ì €ì¥í•˜ê³  ê´€ë¦¬ (ì±—ë´‡ ë©”ëª¨ë¦¬ ê¸°ëŠ¥ì— ì‚¬ìš©)
                        </div>
                    </div>
                </details>

                <details>
                    <summary>text_tool.py - í…ìŠ¤íŠ¸ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('module-text')">Copy</button>
                        <pre class="code-vscode"><code id="module-text">
<span class="kw">from</span> <span class="mod">module.text_tool</span> <span class="kw">import</span> <span class="cls">Text_tool</span>

<span class="var">text_tool</span> = <span class="cls">Text_tool</span>(
    <span class="var">chunk_size</span>=<span class="num">1000</span>,  <span class="comm"># ì²­í¬ í¬ê¸° (ê¸°ë³¸: 1000)</span>
    <span class="var">overlap</span>=<span class="num">100</span>,      <span class="comm"># ì²­í¬ ê°„ ê²¹ì¹¨ (ê¸°ë³¸: 0)</span>
    <span class="var">max_length</span>=<span class="num">5000</span>   <span class="comm"># ìµœëŒ€ ê¸¸ì´ ì œí•œ (ê¸°ë³¸: None)</span>
)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            <strong>ì£¼ìš” ê¸°ëŠ¥:</strong> ê¸´ í…ìŠ¤íŠ¸ë¥¼ ì ì ˆí•œ í¬ê¸°ë¡œ ë¶„í•  (Discord ë©”ì‹œì§€ ì „ì†¡, ëŒ€ìš©ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ì— ì‚¬ìš©)
                        </div>
                    </div>
                </details>

                <h3>3. LLM ì—ì´ì „íŠ¸ ì‚¬ìš©í•˜ê¸°</h3>
                <details>
                    <summary>llmì—ì´ì „íŠ¸ ìƒì„±í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy1')">Copy</button>
                        <pre class="code-vscode"><code id="copy1">
<span class="var">model_name</span> = <span class="str">'gemma:12b'</span> <span class="comm">#ì‚¬ìš©í•  ëª¨ë¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”</span>
<span class="var">system_prompt</span> = <span class="str">'ë‹¹ì‹ ì€ ìœ ëŠ¥í•œ ë¹„ì„œì…ë‹ˆë‹¤. ì´ìš©ìì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.'</span>
<span class="var">user_prompt</span> = <span class="str">'í”„ë‘ìŠ¤ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì¸ê°€ìš”?'</span>
<span class="var">provider</span> = <span class="str">'ollama'</span>  <span class="comm">#í˜„ì¬ ì‚¬ìš©ê°€ëŠ¥í•œ provierëŠ” "ollama", "openai","genai(gemini)"ì…ë‹ˆë‹¤</span>

<span class="var">agent</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>, <span class="var">provider</span>, <span class="var">api_key</span>=<span class="kw">None</span>)

<span class="var">response</span> = <span class="var">agent</span>(<span class="var">system_prompt</span>, <span class="var">user_prompt</span>, <span class="var">task</span>=<span class="kw">None</span>)
<span class="builtin">print</span>(<span class="var">response</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            ë‹¤ìŒê³¼ ê°™ì´ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•˜ì„¸ìš”.<br><br>
                            ìœ„ ì½”ë“œì—ì„œ <code>model_name</code>ì€ ì‚¬ìš©í•  ëª¨ë¸ì˜ ì´ë¦„ì„ ì§€ì •í•©ë‹ˆë‹¤. <code>system_prompt</code>ëŠ” ëª¨ë¸ì—ê²Œ ì£¼ì–´ì§€ëŠ” ì‹œìŠ¤í…œ ë©”ì‹œì§€ì´ë¯€ë¡œ ì—­í•  ë° í˜ë¥´ì†Œë‚˜ë¥¼ ì§€ì •í•˜ì„¸ìš”. <code>user_prompt</code>ëŠ” llmì—ê²Œ ì§ˆë¬¸ ë° ì‘ì—…ì„ ìš”ì²­í•˜ì„¸ìš”. <code>provider</code>ëŠ” ì‚¬ìš©í•  LLM ì œê³µìë¥¼ ì§€ì •í•©ë‹ˆë‹¤.<br><br>
                            <code>task</code>ì˜ ê¸°ë³¸ê°’ì€ Noneì´ê³  í•„ìš”ì‹œ ì¶”ê°€ í•˜ì„¸ìš”.<br>
                            <code>api_key</code>ì˜ ê¸°ë³¸ê°’ì„ Noneì´ë¯€ë¡œ, ollamaë¥¼ ì‚¬ìš©í•  ê²½ìš° API í‚¤ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </details>

                <details>
                    <summary>ë©€í‹° ì—ì´ì „íŠ¸ í™œìš©í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy1-1')">Copy</button>
                        <pre class="code-vscode"><code id="copy1-1">
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">LLM_Agent</span>

<span class="var">system_prompt</span> = <span class="str">"You are a helpful assistant."</span>
<span class="var">agent1_user_prompt</span> = <span class="str">"ë¦¬ëˆ…ìŠ¤ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”."</span>
<span class="var">agent2_user_prompt</span> = <span class="str">"ì•ì„  ë‹µë³€ì„ ì½ê³  ë‚´ìš©ì„ ë³´ì¶©í•´ ì£¼ì„¸ìš”"</span>
<span class="comm"># ë³µìˆ˜ì˜ ì—ì´ì „íŠ¸ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.</span>
<span class="var">multi_agent</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>=<span class="str">"gemma3n"</span>, <span class="var">provider</span>=<span class="str">"ollama"</span>)
<span class="var">agent1</span> = <span class="var">multi_agent</span>(<span class="var">system_prompt</span>, <span class="var">agent1_user_prompt</span>, <span class="var">task</span>=<span class="kw">None</span>)
<span class="var">agent2</span> = <span class="var">multi_agent</span>(<span class="var">system_prompt</span>, <span class="var">agent2_user_prompt</span>, <span class="var">task</span>=<span class="kw">None</span>, <span class="var">multi_agent_response</span>=<span class="var">agent1</span>)
<span class="comm"># agent1ì˜ ë‹µë³€ì„ ì´ì–´ ë°›ì•„, agent2ì˜ í”„ë¡¬í”„íŠ¸ì— í¬í•¨ì‹œí‚µë‹ˆë‹¤.</span>
<span class="builtin">print</span>(<span class="str">"Agent 1 Response:"</span>, <span class="var">agent1</span>)
<span class="builtin">print</span>(<span class="str">"Agent 2 Response:"</span>, <span class="var">agent2</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            ë©€í‹° ì—ì´ì „íŠ¸ë¥¼ í™œìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ì„¸ìš”. ì—¬ëŸ¬ê°œì˜ LLM ì—ì´ì „íŠ¸ë¥¼ êµ¬ì„±í•˜ì„¸ìš”. ìˆœì°¨ì ìœ¼ë¡œ ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ê³ , ì•ì˜ ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ ë‹¤ìŒ ì—ì´ì „íŠ¸ì˜ í”„ë¡¬í”„íŠ¸ì— í¬í•¨ì‹œí‚µë‹ˆë‹¤.<br><br>
                            ìœ„ ì½”ë“œì—ì„œ <code>multi_agent_response</code> ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì „ ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ ë‹¤ìŒ ì—ì´ì „íŠ¸ì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤. ì‘ì—…ì„ ë¶„í• í•˜ê³  ê° ì—ì´ì „íŠ¸ì— ë§ê²Œ í”„ë¡¬í”„íŠ¸ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            ì²«ë²ˆì§¸ ì—ì´ì „íŠ¸ì˜ ì‘ì—…ì„ ë‘ë²ˆì§¸ ì—ì´ì „íŠ¸ì— ì „ë‹¬í•˜ì—¬, ê° ì—ì´ì „íŠ¸ê°€ <code>task</code>ë¥¼ ì‹¬í™”í•˜ì—¬ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ì„¸ìš”.
                        </div>
                    </div>
                </details>

                <details>
                    <summary>ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ì‘ë‹µ í†µí•©í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy1-2')">Copy</button>
                        <pre class="code-vscode"><code id="copy1-2">
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">LLM_Agent</span>

<span class="comm">#ê° ì—ì´ì „íŠ¸ì˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸, ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸, ì‘ì—…ì„ ì •ì˜í•©ë‹ˆë‹¤.</span>
<span class="var">multi_agent_tasks</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë„ì‹œì—ì„œ ë°œìƒí•˜ëŠ” í™˜ê²½ ë¬¸ì œ(ëŒ€ê¸°, ìˆ˜ì§ˆ, ì“°ë ˆê¸° ë“±)ë¥¼ ì •ë¦¬í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ê³¼ì œë¥¼ ì œì‹œí•œë‹¤."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ì¹œí™˜ê²½ êµí†µìˆ˜ë‹¨(ëŒ€ì¤‘êµí†µ, ìì „ê±°, ì „ê¸°ì°¨ ë“±)ì„ ê¸°ë°˜ìœ¼ë¡œ ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•œë‹¤."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ì¬ìƒì—ë„ˆì§€(íƒœì–‘ê´‘, í’ë ¥, ìŠ¤ë§ˆíŠ¸ ê·¸ë¦¬ë“œ ë“±)ë¥¼ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•œë‹¤."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë„ì‹œ ê³µê°„ êµ¬ì¡°(ê³µì›, ì£¼ê±°, ìƒì—…ì§€êµ¬ ë°°ì¹˜ ë“±)ë¥¼ ìµœì í™”í•œë‹¤."</span>
}
<span class="var">multi_agent_system_prompts</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë‹¹ì‹ ì€ í™˜ê²½ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë„ì‹œì˜ í™˜ê²½ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ë¬¸ì œë¥¼ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ë‹¹ì‹ ì€ êµí†µ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ë‹¹ì‹ ì€ ì—ë„ˆì§€ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì¬ìƒì—ë„ˆì§€ë¥¼ í™œìš©í•œ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë‹¹ì‹ ì€ ë„ì‹œ ê³„íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë„ì‹œ ê³µê°„ êµ¬ì¡°ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>
}
<span class="var">user_prompts</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë„ì‹œì—ì„œ ë°œìƒí•˜ëŠ” í™˜ê²½ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ë¬¸ì œë¥¼ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ì¬ìƒì—ë„ˆì§€ë¥¼ í™œìš©í•œ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë„ì‹œ ê³µê°„ êµ¬ì¡°ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>
}

<span class="var">order</span> = [<span class="str">"Agent 1"</span>, <span class="str">"Agent 2"</span>, <span class="str">"Agent 3"</span>, <span class="str">"Agent 4"</span>]

<span class="var">multi_agent</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>=<span class="str">"gemini-2.5-flash"</span>, <span class="var">provider</span>=<span class="str">"genai"</span>, <span class="var">api_key</span>=<span class="str">"your_api_key"</span>) <span class="comm">#ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</span>

<span class="var">agent_responses</span> = {
    <span class="var">name</span>: <span class="var">multi_agent</span>(<span class="var">multi_agent_system_prompts</span>[<span class="var">name</span>], <span class="var">user_prompts</span>[<span class="var">name</span>], <span class="var">multi_agent_tasks</span>[<span class="var">name</span>])
    <span class="kw">for</span> <span class="var">name</span> <span class="kw">in</span> <span class="var">order</span>
}
<span class="var">response_list</span> = [<span class="var">agent_responses</span>[<span class="var">name</span>] <span class="kw">for</span> <span class="var">name</span> <span class="kw">in</span> <span class="var">order</span>] <span class="comm">#ê° ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ ìˆœì„œëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•©ë‹ˆë‹¤.</span>

<span class="var">multi_agent_responses</span> = <span class="var">multi_agent</span>(
    <span class="str">"ë‹¹ì‹ ì€ ë„ì‹œ ê³„íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"ë‹¤ìŒì€ ì—¬ëŸ¬ ì „ë¬¸ê°€ì˜ ì˜ê²¬ì…ë‹ˆë‹¤. ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… ìš”ì•½ ë° í†µí•©ëœ ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"ìµœì¢… ìš”ì•½ ë° í†µí•©ëœ ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•œë‹¤."</span>,
    <span class="var">response_list</span>
) <span class="comm">#ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ í†µí•©í•˜ì—¬ ìµœì¢… ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.</span>

<span class="builtin">print</span>(<span class="str">"Agent 1 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 1"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 2 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 2"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 3 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 3"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 4 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 4"</span>])
<span class="builtin">print</span>(<span class="str">"Multi-Agent Responses:"</span>, <span class="var">multi_agent_responses</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            ì—ì´ì „íŠ¸ì—ê²Œ ì‘ì—…ì„ ê°ê° í• ë‹¹í•˜ê³  í†µí•©í•˜ì—¬ ìµœì¢… ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.<br><br>
                            ìœ„ ì½”ë“œì—ì„œ ê° ì—ì´ì „íŠ¸ëŠ” íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , ê·¸ ì‘ë‹µì€ ìµœì¢… í†µí•© ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì—ì´ì „íŠ¸ ë³„ë¡œ ê°ê°ì˜ ì‘ì—…ì„ í• ë‹¹í•˜ê³ , í•˜ë‚˜ë¡œ í†µí•©í•œ ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </details>

                <details>
                    <summary>LLMì—ì´ì „íŠ¸ì— ê¸°ì–µë ¥ ë¶™ì´ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy1-3')">Copy</button>
                        <pre class="code-vscode"><code id="copy1-3">
<span class="kw">import</span> <span class="mod">dotenv</span>
<span class="kw">import</span> <span class="mod">os</span>
<span class="mod">dotenv</span>.<span class="fn">load_dotenv</span>()

<span class="comm"># LLM_Agent ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</span>
<span class="var">llm</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>=<span class="str">"gemini-2.5-flash"</span>, <span class="var">provider</span>=<span class="str">"genai"</span>, <span class="var">api_key</span>=<span class="mod">os</span>.<span class="fn">getenv</span>(<span class="str">"GENAI_API_KEY"</span>), <span class="var">max_history</span>=<span class="num">10</span>) <span class="comm">#max_history = ê¸°ì–µí•  ëŒ€í™” ìˆ˜</span>
<span class="comm"># ëŒ€í™” ë£¨í”„ ì˜ˆì‹œ</span>

<span class="kw">while</span> <span class="kw">True</span>:
    <span class="var">user_input</span> = <span class="builtin">input</span>(<span class="str">"You: "</span>)
    <span class="var">response</span> = <span class="var">llm</span>(<span class="var">system_prompt</span>=<span class="str">"You are a helpful assistant."</span>, <span class="var">user_message</span>=<span class="var">user_input</span>, <span class="var">memory</span>=<span class="kw">True</span>) <span class="comm">#memory=Trueë¡œ ì„¤ì •í•˜ì—¬ ê¸°ì–µë ¥ í™œì„±í™”</span>
    <span class="builtin">print</span>(<span class="str">"Assistant:"</span>, <span class="var">response</span>)

    <span class="kw">if</span> <span class="var">user_input</span>.<span class="fn">lower</span>() <span class="kw">in</span> [<span class="str">'exit'</span>, <span class="str">'quit'</span>]:
        <span class="kw">break</span>
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            LLM ì—ì´ì „íŠ¸ì— ê¸°ì–µë ¥ì„ ì¶”ê°€í•˜ì—¬ ì´ì „ ëŒ€í™” ë‚´ìš©ì„ ê¸°ì–µí•˜ê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            ê°„ë‹¨í•œ ëŒ€í™” ì˜ˆì‹œì…ë‹ˆë‹¤. max_history=10ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ 10ê°œì˜ ì´ì „ ëŒ€í™”ë¥¼ ê¸°ì–µí•©ë‹ˆë‹¤.<br><br>
                            memoryë¥¼ í™œì„±í™” ì‹œì¼œ ì´ì „ ëŒ€í™” ë‚´ìš©ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. DB = sqlite3ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </details>
                <details>
                    <summary>LLMì—ì´ì „íŠ¸ ë©€í‹°ëª¨ë‹¬ í™œìš©í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy1-4')">Copy</button>
                        <pre class="code-vscode"><code id="copy1-4">
<span class="kw">import</span> <span class="mod">os</span>
<span class="kw">import</span> <span class="mod">sys</span>
<span class="kw">import</span> <span class="mod">json</span>
<span class="kw">import</span> <span class="mod">re</span>
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">Multi_modal_agent</span>
<span class="kw">import</span> <span class="mod">dotenv</span>
<span class="mod">dotenv</span>.<span class="fn">load_dotenv</span>()

<span class="comm"># 1) ëª¨ë¸ ì‘ë‹µì—ì„œ JSONë§Œ ë½‘ì•„ë‚´ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ì…ë‹ˆë‹¤.</span>
<span class="kw">def</span> <span class="fn">extract_json_from_response</span>(<span class="var">response_text</span>):
    <span class="str">"""ì‘ë‹µì—ì„œ JSON ë¶€ë¶„ë§Œ ì¶”ì¶œí•˜ì—¬ íŒŒì‹±"""</span>
    <span class="kw">try</span>:
        <span class="comm"># ìš°ì„  ```json ... ``` ì½”ë“œë¸”ë¡ì„ ì°¾ìŠµë‹ˆë‹¤.</span>
        <span class="var">json_match</span> = <span class="mod">re</span>.<span class="fn">search</span>(<span class="str">r'```json\s*(.*?)\s*```'</span>, <span class="var">response_text</span>, <span class="mod">re</span>.<span class="prop">DOTALL</span>)
        <span class="kw">if</span> <span class="var">json_match</span>:
            <span class="var">json_str</span> = <span class="var">json_match</span>.<span class="fn">group</span>(<span class="num">1</span>)
        <span class="kw">else</span>:
            <span class="comm"># ì—†ìœ¼ë©´ ì¤‘ê´„í˜¸ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ JSONì„ ì§ì ‘ íƒìƒ‰í•©ë‹ˆë‹¤.</span>
            <span class="var">json_match</span> = <span class="mod">re</span>.<span class="fn">search</span>(<span class="str">r'\{.*\}'</span>, <span class="var">response_text</span>, <span class="mod">re</span>.<span class="prop">DOTALL</span>)
            <span class="kw">if</span> <span class="var">json_match</span>:
                <span class="var">json_str</span> = <span class="var">json_match</span>.<span class="fn">group</span>(<span class="num">0</span>)
            <span class="kw">else</span>:
                <span class="kw">return</span> <span class="kw">None</span>, <span class="str">"JSON í˜•íƒœë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."</span>

        <span class="comm"># ë¬¸ìì—´ì„ ì‹¤ì œ dictë¡œ íŒŒì‹±í•©ë‹ˆë‹¤.</span>
        <span class="var">parsed_json</span> = <span class="mod">json</span>.<span class="fn">loads</span>(<span class="var">json_str</span>)
        <span class="kw">return</span> <span class="var">parsed_json</span>, <span class="kw">None</span>

    <span class="kw">except</span> <span class="mod">json</span>.<span class="cls">JSONDecodeError</span> <span class="kw">as</span> <span class="var">e</span>:
        <span class="kw">return</span> <span class="kw">None</span>, <span class="str">f"JSON íŒŒì‹± ì˜¤ë¥˜: {e}"</span>
    <span class="kw">except</span> <span class="cls">Exception</span> <span class="kw">as</span> <span class="var">e</span>:
        <span class="kw">return</span> <span class="kw">None</span>, <span class="str">f"ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: {e}"</span>

<span class="var">model_name</span> = <span class="str">'gemma3:12b'</span> <span class="comm"># ì‚¬ìš©í•  ëª¨ë¸ëª…(ë©€í‹°ëª¨ë‹¬ ì§€ì› ëª¨ë¸)ë¡œ êµì²´í•˜ì„¸ìš”.</span>
<span class="var">system_prompt</span> = <span class="str">'''ë‹¹ì‹ ì€ ì˜ìˆ˜ì¦ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì˜ìˆ˜ì¦ì„ ë³´ê³  ë‹¤ìŒ JSON í˜•íƒœë¡œ ì •í™•íˆ ë°˜í™˜í•´ì£¼ì„¸ìš”:
{
  "store_name": "ë§¤ì¥ëª…",
  "date": "YYYY-MM-DD",
  "time": "HH:MM",
  "items": [
    {"name": "ìƒí’ˆëª…", "price": ê°€ê²©, "quantity": ìˆ˜ëŸ‰}
  ],
  "subtotal": ì†Œê³„,
  "tax": ì„¸ê¸ˆ,
  "total": ì´ì•¡,
  "payment_method": "ê²°ì œë°©ë²•"
}'''</span>

<span class="var">user_prompt</span> = <span class="str">'ë‹¤ìŒ ì˜ìˆ˜ì¦ì˜ ì„¸ë¶€ë‚´ì—­ì„ ìœ„ì˜ JSON í˜•íƒœë¡œ ì •í™•íˆ ë°˜í™˜í•´ì£¼ì„¸ìš”. JSONë§Œ ë°˜í™˜í•˜ê³  ë‹¤ë¥¸ ì„¤ëª…ì€ ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”.'</span>
<span class="var">image_path</span> = <span class="str">"image.png"</span>  <span class="comm"># ì‹¤ì œ ì´ë¯¸ì§€ ê²½ë¡œë¡œ êµì²´í•˜ì„¸ìš”.</span>
<span class="var">provider</span> = <span class="str">'ollama'</span> <span class="comm"># ì œê³µì ì„ íƒ: 'ollama' ë˜ëŠ” 'genai' (Gemini). ë©€í‹°ëª¨ë‹¬ ì§€ì› ëª¨ë¸ í•„ìš”.</span>

<span class="comm"># 2) ë©€í‹°ëª¨ë‹¬ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•˜ê³  í˜¸ì¶œí•©ë‹ˆë‹¤.</span>
<span class="var">agent</span> = <span class="cls">Multi_modal_agent</span>(<span class="var">model_name</span>, <span class="var">provider</span>, <span class="var">api_key</span>=<span class="kw">None</span>)
<span class="var">response</span> = <span class="var">agent</span>(<span class="var">system_prompt</span>, <span class="var">user_prompt</span>, <span class="var">image_path</span>=<span class="var">image_path</span>, <span class="var">task</span>=<span class="kw">None</span>)

<span class="builtin">print</span>(<span class="str">"=== ì›ë³¸ ì‘ë‹µ ==="</span>)
<span class="builtin">print</span>(<span class="var">response</span>)
<span class="builtin">print</span>(<span class="str">"\n"</span> + <span class="str">"="</span>*<span class="num">50</span>)

<span class="comm"># 3) ì‘ë‹µì—ì„œ JSONì„ íŒŒì‹±í•˜ê³ , ì‹¤íŒ¨ ì‹œ ì›ë¬¸ì„ ì €ì¥í•©ë‹ˆë‹¤.</span>
<span class="var">parsed_data</span>, <span class="var">error</span> = <span class="fn">extract_json_from_response</span>(<span class="var">response</span>)
<span class="kw">with</span> <span class="builtin">open</span>(<span class="str">"parsed_receipt.json"</span>, <span class="str">"w"</span>, <span class="var">encoding</span>=<span class="str">"utf-8"</span>) <span class="kw">as</span> <span class="var">f</span>:
    <span class="kw">if</span> <span class="var">parsed_data</span>:
        <span class="mod">json</span>.<span class="fn">dump</span>(<span class="var">parsed_data</span>, <span class="var">f</span>, <span class="var">ensure_ascii</span>=<span class="kw">False</span>, <span class="var">indent</span>=<span class="num">2</span>)
    <span class="kw">else</span>:
        <span class="var">f</span>.<span class="fn">write</span>(<span class="var">response</span>) <span class="comm"># íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ í…ìŠ¤íŠ¸ ì €ì¥</span>

<span class="kw">if</span> <span class="var">parsed_data</span>:
    <span class="builtin">print</span>(<span class="str">"=== íŒŒì‹±ëœ JSON ==="</span>)
    <span class="builtin">print</span>(<span class="mod">json</span>.<span class="fn">dumps</span>(<span class="var">parsed_data</span>, <span class="var">ensure_ascii</span>=<span class="kw">False</span>, <span class="var">indent</span>=<span class="num">2</span>))

    <span class="builtin">print</span>(<span class="str">"\n=== ì‚¬ìš© ì˜ˆì‹œ ==="</span>)
    <span class="builtin">print</span>(<span class="str">f"ë§¤ì¥ëª…: {parsed_data.get('store_name', 'N/A')}"</span>)
    <span class="builtin">print</span>(<span class="str">f"ì´ì•¡: {parsed_data.get('total', 'N/A')}ì›"</span>)
    <span class="builtin">print</span>(<span class="str">f"ìƒí’ˆ ê°œìˆ˜: {len(parsed_data.get('items', []))}"</span>)
<span class="kw">else</span>:
    <span class="builtin">print</span>(<span class="str">f"=== JSON íŒŒì‹± ì‹¤íŒ¨ ==="</span>)
    <span class="builtin">print</span>(<span class="str">f"ì˜¤ë¥˜: {error}"</span>)
    <span class="builtin">print</span>(<span class="str">"ì›ë³¸ í…ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”."</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            LLM ì—ì´ì „íŠ¸ë¥¼ ë©€í‹°ëª¨ë‹¬ë¡œ í™œìš©í•˜ì—¬ ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            ìœ„ ì½”ë“œëŠ” <code>Multi_modal_agent</code>ë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€+í…ìŠ¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ì‘ë‹µì—ì„œ JSONë§Œ ì¶”ì¶œí•˜ì—¬ <code>parsed_receipt.json</code>ë¡œ ì €ì¥í•˜ê³ , íŒŒì‹±ì— ì„±ê³µí•˜ë©´ ì£¼ìš” í•„ë“œë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.<br><br>
                            í™œìš© ì˜ˆì‹œ: ë©€í‹°ëª¨ë‹¬+RAGë¡œ ê³ ê°ë¬¸ì˜ AIë´‡ êµ¬ì„± â€” ì‚¬ìš©ìê°€ ì˜¬ë¦° ì œí’ˆ ì‚¬ì§„ê³¼ ì„¤ëª…ì„œ/FAQ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê²°í•©í•´ ì •í™•í•œ ë‹µë³€ì„ ìƒì„±í•˜ê³ , ì½œì„¼í„°/FAQ ì‘ë‹µì„ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </details>

                <h3>4. Discordë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸°</h3>
                <details>
                    <summary>LLMì‘ë‹µ ê²°ê³¼ë¥¼ Discordë¡œ ì „ì†¡í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy2')">Copy</button>
                        <pre class="code-vscode"><code id="copy2">
<span class="kw">from</span> <span class="mod">module.discord</span> <span class="kw">import</span> <span class="cls">Send_to_discord</span>
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">LLM_Agent</span>

<span class="var">model_name</span> = <span class="str">'gemma3:12b'</span> <span class="comm">#ì‚¬ìš©í•  ëª¨ë¸ëª…ì„ ì…ë ¥í•˜ì„¸ìš”</span>
<span class="var">system_prompt</span> = <span class="str">'ë‹¹ì‹ ì€ ìœ ëŠ¥í•œ ë¹„ì„œì…ë‹ˆë‹¤. ì´ìš©ìì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë‹µë³€ì„ ì œê³µí•©ë‹ˆë‹¤.'</span>
<span class="var">user_prompt</span> = <span class="str">'í”„ë‘ìŠ¤ì˜ ìˆ˜ë„ëŠ” ì–´ë””ì¸ê°€ìš”?'</span>
<span class="var">provider</span> = <span class="str">'ollama'</span>  <span class="comm">#í˜„ì¬ ì‚¬ìš©ê°€ëŠ¥í•œ provierëŠ” "ollama", "openai","genai(gemini)"ì…ë‹ˆë‹¤</span>

<span class="var">agent</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>, <span class="var">provider</span>, <span class="var">api_key</span>=<span class="kw">None</span>)
<span class="var">response</span> = <span class="var">agent</span>(<span class="var">system_prompt</span>, <span class="var">user_prompt</span>, <span class="var">task</span>=<span class="kw">None</span>)

<span class="var">discord</span> = <span class="cls">Send_to_discord</span>(<span class="var">base_url</span>=<span class="str">"your_discord_webhook_url"</span>) <span class="comm">#ì²­í¬ ì‚¬ì´ì¦ˆ ë° ê²¹ì¹¨ í¬ê¸° ì„¤ì •</span>
<span class="var">discord</span>.<span class="fn">send_message</span>(<span class="var">response</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            ë‹¤ìŒê³¼ ê°™ì´ Discordë¡œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </details>

                <details>
                    <summary>ë©”ì‹œì§€ ì²­í¬ ë¶„í•  ë° ê²¹ì¹¨ ì„¤ì •í•˜ê¸°</summary>
                    <div class="code-container">
                        <button class="copy_button" onclick="copy_button('copy2-1')">Copy</button>
                        <pre class="code-vscode"><code id="copy2-1">
<span class="kw">from</span> <span class="mod">module.discord</span> <span class="kw">import</span> <span class="cls">Send_to_discord</span>
<span class="kw">from</span> <span class="mod">module.llm_agent</span> <span class="kw">import</span> <span class="cls">LLM_Agent</span>

<span class="comm">#ê° ì—ì´ì „íŠ¸ì˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸, ì‚¬ìš©ì í”„ë¡¬í”„íŠ¸, ì‘ì—…ì„ ì •ì˜í•©ë‹ˆë‹¤.</span>
<span class="var">multi_agent_tasks</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë„ì‹œì—ì„œ ë°œìƒí•˜ëŠ” í™˜ê²½ ë¬¸ì œ(ëŒ€ê¸°, ìˆ˜ì§ˆ, ì“°ë ˆê¸° ë“±)ë¥¼ ì •ë¦¬í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ê³¼ì œë¥¼ ì œì‹œí•œë‹¤."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ì¹œí™˜ê²½ êµí†µìˆ˜ë‹¨(ëŒ€ì¤‘êµí†µ, ìì „ê±°, ì „ê¸°ì°¨ ë“±)ì„ ê¸°ë°˜ìœ¼ë¡œ ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•œë‹¤."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ì¬ìƒì—ë„ˆì§€(íƒœì–‘ê´‘, í’ë ¥, ìŠ¤ë§ˆíŠ¸ ê·¸ë¦¬ë“œ ë“±)ë¥¼ í™œìš©í•˜ì—¬ íš¨ìœ¨ì ì¸ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•œë‹¤."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë„ì‹œ ê³µê°„ êµ¬ì¡°(ê³µì›, ì£¼ê±°, ìƒì—…ì§€êµ¬ ë°°ì¹˜ ë“±)ë¥¼ ìµœì í™”í•œë‹¤."</span>
}
<span class="var">multi_agent_system_prompts</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë‹¹ì‹ ì€ í™˜ê²½ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë„ì‹œì˜ í™˜ê²½ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ë¬¸ì œë¥¼ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ë‹¹ì‹ ì€ êµí†µ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ë‹¹ì‹ ì€ ì—ë„ˆì§€ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì¬ìƒì—ë„ˆì§€ë¥¼ í™œìš©í•œ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë‹¹ì‹ ì€ ë„ì‹œ ê³„íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë„ì‹œ ê³µê°„ êµ¬ì¡°ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>
}
<span class="var">user_prompts</span> = {
    <span class="str">"Agent 1"</span>: <span class="str">"ë„ì‹œì—ì„œ ë°œìƒí•˜ëŠ” í™˜ê²½ ë¬¸ì œë¥¼ ë¶„ì„í•˜ê³ , ê°€ì¥ ì‹œê¸‰í•œ ë¬¸ì œë¥¼ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 2"</span>: <span class="str">"ì§€ì† ê°€ëŠ¥í•œ êµí†µ ì¸í”„ë¼ ê³„íšì„ ì œì•ˆí•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 3"</span>: <span class="str">"ì¬ìƒì—ë„ˆì§€ë¥¼ í™œìš©í•œ ì—ë„ˆì§€ ê³µê¸‰ ë°©ì•ˆì„ ì„¤ê³„í•˜ì„¸ìš”."</span>,
    <span class="str">"Agent 4"</span>: <span class="str">"ë„ì‹œ ê³µê°„ êµ¬ì¡°ë¥¼ ìµœì í™”í•˜ëŠ” ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>
}


<span class="var">order</span> = [<span class="str">"Agent 1"</span>, <span class="str">"Agent 2"</span>, <span class="str">"Agent 3"</span>, <span class="str">"Agent 4"</span>]

<span class="var">multi_agent</span> = <span class="cls">LLM_Agent</span>(<span class="var">model_name</span>=<span class="str">"gemini-2.5-flash"</span>, <span class="var">provider</span>=<span class="str">"genai"</span>, <span class="var">api_key</span>=<span class="str">"your_api_key"</span>) <span class="comm">#ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</span>

<span class="var">agent_responses</span> = {
    <span class="var">name</span>: <span class="var">multi_agent</span>(<span class="var">multi_agent_system_prompts</span>[<span class="var">name</span>], <span class="var">user_prompts</span>[<span class="var">name</span>], <span class="var">multi_agent_tasks</span>[<span class="var">name</span>])
    <span class="kw">for</span> <span class="var">name</span> <span class="kw">in</span> <span class="var">order</span>
}
<span class="var">response_list</span> = [<span class="var">agent_responses</span>[<span class="var">name</span>] <span class="kw">for</span> <span class="var">name</span> <span class="kw">in</span> <span class="var">order</span>] <span class="comm">#ê° ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ ìˆœì„œëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•©ë‹ˆë‹¤.</span>

<span class="var">multi_agent_responses</span> = <span class="var">multi_agent</span>(
    <span class="str">"ë‹¹ì‹ ì€ ë„ì‹œ ê³„íš ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"ë‹¤ìŒì€ ì—¬ëŸ¬ ì „ë¬¸ê°€ì˜ ì˜ê²¬ì…ë‹ˆë‹¤. ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… ìš”ì•½ ë° í†µí•©ëœ ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”."</span>,
    <span class="str">"ìµœì¢… ìš”ì•½ ë° í†µí•©ëœ ì§€ì† ê°€ëŠ¥í•œ ë„ì‹œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•œë‹¤."</span>,
    <span class="var">response_list</span>
) <span class="comm">#ëª¨ë“  ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ í†µí•©í•˜ì—¬ ìµœì¢… ì‘ë‹µì„ ìƒì„±í•©ë‹ˆë‹¤.</span>

<span class="builtin">print</span>(<span class="str">"Agent 1 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 1"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 2 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 2"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 3 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 3"</span>])
<span class="builtin">print</span>(<span class="str">"Agent 4 Response:"</span>, <span class="var">agent_responses</span>[<span class="str">"Agent 4"</span>])
<span class="builtin">print</span>(<span class="str">"Multi-Agent Responses:"</span>, <span class="var">multi_agent_responses</span>)
<span class="var">discord</span> = <span class="cls">Send_to_discord</span>(<span class="var">base_url</span>=<span class="str">"your_discord_webhook_url"</span>, <span class="var">chunk_size</span>=<span class="num">1900</span>) <span class="comm">#ì²­í¬ ì‚¬ì´ì¦ˆ ë° ê²¹ì¹¨ í¬ê¸° ì„¤ì •</span>
<span class="var">discord</span>.<span class="fn">send_message</span>(<span class="var">multi_agent_responses</span>)
                        </code></pre>
                        <div style="margin-top: 15px; padding: 12px; background: #2a2d33; border-left: 3px solid #569cd6; font-size: 13px; line-height: 1.4;">
                            Discordë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ, ë©”ì‹œì§€ê°€ ë„ˆë¬´ ê¸¸ ê²½ìš° ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            ìœ„ ì½”ë“œì—ì„œ <code>chunk_size</code> ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ë©”ì‹œì§€ ì²­í¬ì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Discordì˜ ë©”ì‹œì§€ ê¸¸ì´ ì œí•œì„ ê³ ë ¤í•˜ì—¬ ì ì ˆí•œ í¬ê¸°ë¡œ ì„¤ì •í•˜ì„¸ìš”. <code>overlap</code> ë§¤ê°œë³€ìˆ˜ëŠ” ì²­í¬ ê°„ì˜ ê²¹ì¹¨ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 0ì´ë©°, í•„ìš”ì— ë”°ë¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
                            ì²­í¬ë¡œ ë‚˜ëˆ„ì–´ì§„ ë©”ì‹œì§€ëŠ” ìˆœì°¨ì ìœ¼ë¡œ Discord ì±„ë„ì— ì „ì†¡ë©ë‹ˆë‹¤.
                        </div>
                    </div>
                </details>
            </div>
        </main>
    </div>

    <!-- ë¶€íŠ¸ìŠ¤íŠ¸ë© JS (í† ê¸€/ë“œë¡­ë‹¤ìš´ ë™ì‘) - í•„ìš” ì—†ìœ¼ë©´ ì œê±°í•´ë„ ë©ë‹ˆë‹¤ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ë¬¸ì„œ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="scripts.js?v=5"></script>
</body>
</html>